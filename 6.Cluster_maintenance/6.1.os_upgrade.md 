#  OS Upgrades

## 1. Let us explore the environment first. How many nodes do you see in the cluster?

Including the controlplane and worker nodes.

```bash
controlplane ~ ➜  k get nodes 
NAME           STATUS   ROLES           AGE     VERSION
controlplane   Ready    control-plane   5m38s   v1.26.0
node01         Ready    <none>          5m6s    v1.26.0
```
2

## 2. How many applications do you see hosted on the cluster?

Check the number of deployments in the default namespace.
```bash
controlplane ~ ➜  k get deploy
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
blue   3/3     3            3           21s

```
1

## 3. Which nodes are the applications hosted on?
```bash
controlplane ~ ➜  k get pod
NAME                   READY   STATUS    RESTARTS   AGE
blue-987f68cb5-28mfr   1/1     Running   0          24s
blue-987f68cb5-84bd5   1/1     Running   0          24s
blue-987f68cb5-lwxdk   1/1     Running   0          24s

controlplane ~ ➜  k get pod -o wide
NAME                   READY   STATUS    RESTARTS   AGE   IP           NODE           NOMINATED NODE   READINESS GATES
blue-987f68cb5-28mfr   1/1     Running   0          75s   10.244.1.3   node01         <none>           <none>
blue-987f68cb5-84bd5   1/1     Running   0          75s   10.244.1.2   node01         <none>           <none>
blue-987f68cb5-lwxdk   1/1     Running   0          75s   10.244.0.4   controlplane   <none>           <none>
```
controlplane,node01

## 4. We need to take node01 out for maintenance. Empty the node of all applications and mark it unschedulable.
- Node node01 Unschedulable
- Pods evicted from node01

```bash
controlplane ~ ➜  k drain node01
node/node01 cordoned
error: unable to drain node "node01" due to error:cannot delete DaemonSet-managed Pods (use --ignore-daemonsets to ignore): kube-flannel/kube-flannel-ds-9gfjt, kube-system/kube-proxy-29f98, continuing command...
There are pending nodes to be drained:
 node01
cannot delete DaemonSet-managed Pods (use --ignore-daemonsets to ignore): kube-flannel/kube-flannel-ds-9gfjt, kube-system/kube-proxy-29f98
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```

```bash
```